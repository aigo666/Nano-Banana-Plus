import{d as z,q as m,r as n,o as G,l as J,a as d,w as O,_ as Y,b as t,c as i,e as p,m as a,p as b,i as H,t as u,k as Q,F as W,u as f,j as X,v as Z}from"./index-CBjmJUc4.js";const ee={class:"space-y-4"},te={class:"grid lg:grid-cols-2 gap-4"},se={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},le={class:"space-y-3"},oe={class:"space-y-2"},ae={class:"flex gap-2"},re={key:0,class:"mt-2 p-2 border border-gray-200 rounded"},ne=["src"],de={key:0,class:"text-red-500 text-xs mt-1"},ie={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 lg:col-span-2"},ue={class:"flex items-center justify-between mb-3"},pe={class:"space-y-2"},be={key:0,class:"text-center py-6 text-gray-500"},ye={class:"flex items-center justify-between"},me={class:"flex-1"},xe={class:"flex items-center gap-2 mb-1"},ge={class:"font-medium text-gray-900"},ve={class:"text-sm text-gray-600 space-y-0.5"},fe={key:0,class:"flex gap-4"},ce={key:0},we={class:"flex gap-1"},ke=["onClick"],_e=["onClick"],Ue={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Ce={class:"space-y-3"},Ie={class:"flex items-center justify-between"},Ee={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Pe={class:"space-y-3"},Ae={class:"flex items-center justify-between"},Le={key:0,class:"space-y-3 pt-3 border-t border-gray-200"},De={class:"bg-blue-50 border border-blue-200 rounded-md p-3"},he={class:"space-y-1.5 text-sm text-blue-800"},Ne={class:"bg-blue-100 px-2 py-0.5 rounded text-xs"},Se={class:"bg-blue-100 px-2 py-0.5 rounded text-xs"},Ve={class:"bg-gray-50 border border-gray-200 rounded-md p-3"},Fe={class:"space-y-2"},Te={class:"flex items-center justify-between"},je={class:"flex items-center justify-between"},Be={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Me={class:"space-y-3"},Re={class:"flex items-center justify-between"},$e={key:0},qe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4"},Ke={class:"space-y-2 text-sm"},ze={class:"flex justify-between"},Ge={class:"font-medium"},Je={class:"flex justify-between"},Oe={class:"font-medium"},Ye={class:"flex gap-3 pt-2"},He=["disabled"],Qe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},We={class:"bg-white rounded-lg p-5 w-full max-w-md mx-4"},Xe={class:"text-base font-semibold text-gray-900 mb-3"},Ze={key:0},et={class:"flex gap-2 pt-3"},tt=["disabled"],st={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},lt={class:"bg-white rounded-lg p-5 w-full max-w-md mx-4"},ot={class:"space-y-3"},at={key:0,class:"mt-3 p-3 border border-gray-200 rounded"},rt=["src"],nt={class:"flex gap-2 pt-3"},dt=["disabled"],pt=z({__name:"Settings",setup(it){m.defaults.baseURL="/api",m.interceptors.request.use(o=>{const e=localStorage.getItem("token");return e&&(o.headers.Authorization=`Bearer ${e}`),o});const c=n(!1),l=n({siteName:"Nano Banana",siteDescription:"AI图片生成服务平台",siteLogo:"",inputPlaceholderText:"告诉你的设计想法",allowRegistration:!0,initialBalance:10,newUserFreeCredits:5,freeCreditsExpiryDays:30,freeCreditsNeverExpire:!1,epayEnabled:!1,epayPid:"",epayKey:"",epayApiUrl:"",wxpayEnabled:!0,alipayEnabled:!0}),h=n(window.location.origin),N=n({uptime:"5天 12小时",memoryUsage:"256MB / 512MB"}),C=n([]),x=n(!1),g=n(!1),w=n(!1),I=n(null),y=n({name:"",token:"",status:"active"}),E=n(!1),P=n(!1),A=n(!1),k=n(!1),v=n(null),_=n(""),L=n(null),U=async()=>{try{const o=await m.get("/config/tokens");o.data.success&&(C.value=o.data.data)}catch(o){console.error("加载API令牌失败:",o),alert("加载API令牌失败")}},V=()=>{y.value={name:"",token:"",status:"active"}},F=o=>{I.value=o.id,y.value={name:o.name,token:"",status:o.status},g.value=!0},T=async()=>{var o,e;w.value=!0;try{const s={...y.value};g.value&&!s.token&&delete s.token,x.value?(await m.post("/config/tokens",s)).data.success&&(alert("添加API令牌成功"),await U(),D()):(await m.put(`/config/tokens/${I.value}`,s)).data.success&&(alert("更新API令牌成功"),await U(),D())}catch(s){console.error("保存API令牌失败:",s),alert("保存API令牌失败: "+(((e=(o=s.response)==null?void 0:o.data)==null?void 0:e.message)||s.message))}finally{w.value=!1}},j=async o=>{var e,s;if(confirm("确认删除这个API令牌吗？"))try{(await m.delete(`/config/tokens/${o}`)).data.success&&(alert("删除API令牌成功"),await U())}catch(r){console.error("删除API令牌失败:",r),alert("删除API令牌失败: "+(((s=(e=r.response)==null?void 0:e.data)==null?void 0:s.message)||r.message))}},D=()=>{x.value=!1,g.value=!1,I.value=null,V()},B=()=>{P.value=!P.value},M=o=>{const e=o.target.files[0];if(e){v.value=e;const s=new FileReader;s.onload=r=>{_.value=r.target.result},s.readAsDataURL(e)}},R=async()=>{var o,e;if(v.value){k.value=!0;try{const s=new FormData;s.append("image",v.value);const r=await m.post("/upload",s,{headers:{"Content-Type":"multipart/form-data"}});r.data.success&&(l.value.siteLogo=r.data.data.url,alert("Logo上传成功"),S())}catch(s){console.error("Logo上传失败:",s),alert("Logo上传失败: "+(((e=(o=s.response)==null?void 0:o.data)==null?void 0:e.message)||s.message))}finally{k.value=!1}}},S=()=>{E.value=!1,v.value=null,_.value="",L.value&&(L.value.value="")},$=async()=>{try{const o=await m.get("/config/system");if(o.data.success){const e=o.data.data,s={};e.forEach(r=>{s[r.config_key]=r.config_value}),l.value={siteName:s.site_name||"Nano Banana",siteDescription:s.site_description||"AI图片生成服务平台",siteLogo:s.site_logo||"",inputPlaceholderText:s.input_placeholder_text||"告诉你的设计想法",allowRegistration:s.allow_registration==="true",initialBalance:parseFloat(s.initial_balance||"10.00"),newUserFreeCredits:parseInt(s.new_user_free_credits||"5"),freeCreditsExpiryDays:parseInt(s.free_credits_expiry_days||"30"),freeCreditsNeverExpire:s.free_credits_never_expire==="true",epayEnabled:s.epay_enabled==="true",epayPid:s.epay_pid||"",epayKey:s.epay_key||"",epayApiUrl:s.epay_api_url||"",wxpayEnabled:s.payment_wxpay_enabled!=="false",alipayEnabled:s.payment_alipay_enabled!=="false"}}}catch(o){console.error("加载系统设置失败:",o)}},q=async()=>{var o,e;c.value=!0;try{const s=[{key:"site_name",value:l.value.siteName,type:"string"},{key:"site_description",value:l.value.siteDescription,type:"string"},{key:"site_logo",value:l.value.siteLogo,type:"string"},{key:"input_placeholder_text",value:l.value.inputPlaceholderText,type:"string"},{key:"allow_registration",value:l.value.allowRegistration.toString(),type:"boolean"},{key:"initial_balance",value:l.value.initialBalance.toString(),type:"number"},{key:"new_user_free_credits",value:l.value.newUserFreeCredits.toString(),type:"number"},{key:"free_credits_expiry_days",value:l.value.freeCreditsExpiryDays.toString(),type:"number"},{key:"free_credits_never_expire",value:l.value.freeCreditsNeverExpire.toString(),type:"boolean"},{key:"epay_enabled",value:l.value.epayEnabled.toString(),type:"boolean"},{key:"epay_pid",value:l.value.epayPid,type:"string"},{key:"epay_key",value:l.value.epayKey,type:"string"},{key:"epay_api_url",value:l.value.epayApiUrl,type:"string"},{key:"payment_wxpay_enabled",value:l.value.wxpayEnabled.toString(),type:"boolean"},{key:"payment_alipay_enabled",value:l.value.alipayEnabled.toString(),type:"boolean"}];(await m.put("/config/system",{configs:s})).data.success&&(alert("设置已保存"),window.parent&&window.parent!==window&&window.parent.postMessage({type:"SITE_INFO_UPDATED"},"*"))}catch(s){console.error("保存设置失败:",s),alert("保存失败: "+(((e=(o=s.response)==null?void 0:o.data)==null?void 0:e.message)||s.message))}finally{c.value=!1}},K=()=>{confirm("确认重置所有设置为默认值吗？")&&(l.value={siteName:"Nano Banana",siteDescription:"AI图片生成服务平台",siteLogo:"",allowRegistration:!0,initialBalance:10,newUserFreeCredits:5,freeCreditsExpiryDays:30,freeCreditsNeverExpire:!1})};return G(async()=>{await Promise.all([$(),U()])}),(o,e)=>(d(),J(Y,null,{default:O(()=>[t("div",ee,[e[61]||(e[61]=t("div",{class:"flex items-center justify-between mb-4"},[t("h1",{class:"text-xl font-bold text-gray-800"},"系统设置"),t("div",{class:"text-sm text-gray-500"}," 配置系统参数和功能选项 ")],-1)),t("div",te,[t("div",se,[e[28]||(e[28]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2"}," ⚙️ 基础设置 ",-1)),t("div",le,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"网站名称",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>l.value.siteName=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"Nano Banana"},null,512),[[b,l.value.siteName]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"网站描述",-1)),a(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.siteDescription=s),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"AI图片生成服务平台"},null,512),[[b,l.value.siteDescription]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"网站Logo",-1)),t("div",oe,[a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.siteLogo=s),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://example.com/logo.png"},null,512),[[b,l.value.siteLogo]]),t("div",ae,[t("button",{onClick:e[3]||(e[3]=s=>E.value=!0),type:"button",class:"px-3 py-1.5 bg-gray-500 hover:bg-gray-600 text-white rounded text-sm"}," 上传Logo "),l.value.siteLogo?(d(),i("button",{key:0,onClick:B,type:"button",class:"px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white rounded text-sm"}," 预览Logo ")):p("",!0)]),e[24]||(e[24]=t("p",{class:"text-xs text-gray-500"}," 支持输入图片URL地址，或点击上传本地图片文件 ",-1)),l.value.siteLogo&&P.value?(d(),i("div",re,[t("img",{src:l.value.siteLogo,alt:"Logo预览",class:"max-h-16 max-w-32 object-contain",onError:e[4]||(e[4]=s=>A.value=!0),onLoad:e[5]||(e[5]=s=>A.value=!1)},null,40,ne),A.value?(d(),i("p",de,"图片加载失败，请检查URL是否正确")):p("",!0)])):p("",!0)])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"输入框占位符文本",-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.inputPlaceholderText=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"告诉你的设计想法"},null,512),[[b,l.value.inputPlaceholderText]]),e[27]||(e[27]=t("p",{class:"text-xs text-gray-500 mt-1"}," 用户在输入框中看到的提示文本 ",-1))])])]),t("div",ie,[t("div",ue,[e[29]||(e[29]=t("h3",{class:"text-base font-semibold text-gray-900 flex items-center gap-2"}," 🔑 API令牌管理 ",-1)),t("button",{onClick:e[7]||(e[7]=s=>x.value=!0),class:"nav-button bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-md font-medium text-sm"}," + 添加令牌 ")]),t("div",pe,[C.value.length===0?(d(),i("div",be,[...e[30]||(e[30]=[t("div",{class:"text-3xl mb-2"},"🔑",-1),t("p",null,"暂无API令牌配置",-1),t("p",{class:"text-sm"},"请添加至少一个API令牌以启用图片生成功能",-1)])])):p("",!0),(d(!0),i(W,null,H(C.value,s=>(d(),i("div",{key:s.id,class:"border border-gray-200 rounded-md p-3 hover:bg-gray-50"},[t("div",ye,[t("div",me,[t("div",xe,[t("h4",ge,u(s.name),1),t("span",{class:Q(["px-2 py-0.5 rounded-full text-xs font-medium",s.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"])},u(s.status==="active"?"启用":"禁用"),3)]),t("div",ve,[t("div",null,"令牌: "+u(s.token),1),s.total_requests>0?(d(),i("div",fe,[t("span",null,"总请求: "+u(s.total_requests),1),s.error_count>0?(d(),i("span",ce,"错误: "+u(s.error_count),1)):p("",!0)])):p("",!0)])]),t("div",we,[t("button",{onClick:r=>F(s),class:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600"}," 编辑 ",8,ke),t("button",{onClick:r=>j(s.id),class:"px-2 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600"}," 删除 ",8,_e)])])]))),128))])]),t("div",Ue,[e[33]||(e[33]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2"}," 👥 用户设置 ",-1)),t("div",Ce,[t("div",Ie,[e[31]||(e[31]=t("label",{class:"text-sm font-medium text-gray-700"},"允许用户注册",-1)),a(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.allowRegistration=s),type:"checkbox",class:"rounded border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,l.value.allowRegistration]])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"新用户初始余额",-1)),a(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>l.value.initialBalance=s),type:"number",step:"0.01",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"0.00"},null,512),[[b,l.value.initialBalance]])])])]),t("div",Ee,[e[49]||(e[49]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2"}," 💳 易支付配置 ",-1)),t("div",Pe,[t("div",Ae,[e[34]||(e[34]=t("label",{class:"text-sm font-medium text-gray-700"},"启用易支付",-1)),a(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>l.value.epayEnabled=s),type:"checkbox",class:"rounded border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,l.value.epayEnabled]])]),l.value.epayEnabled?(d(),i("div",Le,[t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"商户ID (PID)",-1)),a(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>l.value.epayPid=s),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"请输入易支付商户ID"},null,512),[[b,l.value.epayPid]]),e[36]||(e[36]=t("p",{class:"text-xs text-gray-500 mt-0.5"},"从易支付平台获取的商户ID",-1))]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"商户密钥 (KEY)",-1)),a(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>l.value.epayKey=s),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"请输入易支付商户密钥"},null,512),[[b,l.value.epayKey]]),e[38]||(e[38]=t("p",{class:"text-xs text-gray-500 mt-0.5"},"从易支付平台获取的商户密钥，用于签名验证",-1))]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"API地址",-1)),a(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>l.value.epayApiUrl=s),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"https://pay.example.com"},null,512),[[b,l.value.epayApiUrl]]),e[40]||(e[40]=t("p",{class:"text-xs text-gray-500 mt-0.5"},"易支付平台的API接口地址",-1))]),t("div",De,[e[44]||(e[44]=t("h4",{class:"text-sm font-medium text-blue-900 mb-2"},"回调地址配置",-1)),t("div",he,[t("div",null,[e[41]||(e[41]=t("span",{class:"font-medium"},"异步通知地址：",-1)),t("code",Ne,u(h.value)+"/api/payment/epay/notify",1)]),t("div",null,[e[42]||(e[42]=t("span",{class:"font-medium"},"同步回调地址：",-1)),t("code",Se,u(h.value)+"/payment/return",1)]),e[43]||(e[43]=t("p",{class:"text-xs text-blue-600 mt-1"},"请将以上地址配置到您的易支付平台后台",-1))])]),t("div",Ve,[e[48]||(e[48]=t("h4",{class:"text-sm font-medium text-gray-900 mb-2"},"支付方式开关",-1)),t("div",Fe,[t("div",Te,[e[45]||(e[45]=t("label",{class:"text-sm font-medium text-gray-700 flex items-center gap-2"},[t("span",{class:"text-lg"},"💚"),t("span",null,"启用微信支付")],-1)),a(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>l.value.wxpayEnabled=s),type:"checkbox",class:"rounded border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,l.value.wxpayEnabled]])]),t("div",je,[e[46]||(e[46]=t("label",{class:"text-sm font-medium text-gray-700 flex items-center gap-2"},[t("span",{class:"text-lg"},"💙"),t("span",null,"启用支付宝")],-1)),a(t("input",{"onUpdate:modelValue":e[15]||(e[15]=s=>l.value.alipayEnabled=s),type:"checkbox",class:"rounded border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,l.value.alipayEnabled]])]),e[47]||(e[47]=t("p",{class:"text-xs text-gray-500 mt-1"}," 关闭后，用户在充值时将不会看到对应的支付方式选项 ",-1))])])])):p("",!0)])]),t("div",Be,[e[55]||(e[55]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2"}," 🎁 新用户免费次数 ",-1)),t("div",Me,[t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"赠送免费次数",-1)),a(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>l.value.newUserFreeCredits=s),type:"number",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"5"},null,512),[[b,l.value.newUserFreeCredits]]),e[51]||(e[51]=t("p",{class:"text-xs text-gray-500 mt-0.5"},"新用户注册时自动赠送的免费生成次数",-1))]),t("div",Re,[e[52]||(e[52]=t("label",{class:"text-sm font-medium text-gray-700"},"免费次数永不过期",-1)),a(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>l.value.freeCreditsNeverExpire=s),type:"checkbox",class:"rounded border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[f,l.value.freeCreditsNeverExpire]])]),l.value.freeCreditsNeverExpire?p("",!0):(d(),i("div",$e,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"免费次数有效期（天）",-1)),a(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>l.value.freeCreditsExpiryDays=s),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"30"},null,512),[[b,l.value.freeCreditsExpiryDays]]),e[54]||(e[54]=t("p",{class:"text-xs text-gray-500 mt-0.5"},"免费次数的有效期，超过此期限未使用的次数将失效",-1))]))])]),t("div",qe,[e[60]||(e[60]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2"}," 📊 系统信息 ",-1)),t("div",Ke,[e[58]||(e[58]=t("div",{class:"flex justify-between"},[t("span",{class:"text-gray-600"},"系统版本"),t("span",{class:"font-medium"},"v1.0.0")],-1)),t("div",ze,[e[56]||(e[56]=t("span",{class:"text-gray-600"},"运行时间",-1)),t("span",Ge,u(N.value.uptime),1)]),t("div",Je,[e[57]||(e[57]=t("span",{class:"text-gray-600"},"内存使用",-1)),t("span",Oe,u(N.value.memoryUsage),1)]),e[59]||(e[59]=t("div",{class:"flex justify-between"},[t("span",{class:"text-gray-600"},"数据库状态"),t("span",{class:"font-medium text-green-600"},"正常")],-1))])])]),t("div",Ye,[t("button",{onClick:q,disabled:c.value,class:"nav-button bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md font-medium text-sm disabled:opacity-50"},u(c.value?"保存中...":"保存设置"),9,He),t("button",{onClick:K,class:"nav-button bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md font-medium text-sm"}," 重置为默认值 ")])]),x.value||g.value?(d(),i("div",Qe,[t("div",We,[t("h3",Xe,u(x.value?"添加API令牌":"编辑API令牌"),1),t("form",{onSubmit:X(T,["prevent"]),class:"space-y-3"},[t("div",null,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"令牌名称",-1)),a(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>y.value.name=s),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"例如：系统API令牌"},null,512),[[b,y.value.name]])]),t("div",null,[e[63]||(e[63]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"API令牌",-1)),a(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>y.value.token=s),type:"password",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none",placeholder:"输入完整的API令牌"},null,512),[[b,y.value.token]])]),g.value?(d(),i("div",Ze,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"状态",-1)),a(t("select",{"onUpdate:modelValue":e[21]||(e[21]=s=>y.value.status=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none"},[...e[64]||(e[64]=[t("option",{value:"active"},"启用",-1),t("option",{value:"inactive"},"禁用",-1)])],512),[[Z,y.value.status]])])):p("",!0),t("div",et,[t("button",{type:"submit",disabled:w.value,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-md font-medium text-sm disabled:opacity-50"},u(w.value?"保存中...":"保存"),9,tt),t("button",{type:"button",onClick:D,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-3 rounded-md font-medium text-sm"}," 取消 ")])],32)])])):p("",!0),E.value?(d(),i("div",st,[t("div",lt,[e[69]||(e[69]=t("h3",{class:"text-base font-semibold text-gray-900 mb-3"},"上传Logo图片",-1)),t("div",ot,[t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"选择图片文件",-1)),t("input",{ref_key:"logoFileInput",ref:L,type:"file",accept:"image/*",onChange:M,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none"},null,544),e[67]||(e[67]=t("p",{class:"text-xs text-gray-500 mt-1"},"支持 JPG、PNG、GIF 格式，建议尺寸不超过 200x200px",-1))]),_.value?(d(),i("div",at,[e[68]||(e[68]=t("p",{class:"text-sm font-medium text-gray-700 mb-2"},"预览：",-1)),t("img",{src:_.value,alt:"Logo预览",class:"max-h-20 max-w-full object-contain mx-auto"},null,8,rt)])):p("",!0),t("div",nt,[t("button",{onClick:R,disabled:!v.value||k.value,class:"flex-1 bg-blue-500 hover:bg-blue-600 text-white py-2 px-3 rounded-md font-medium text-sm disabled:opacity-50"},u(k.value?"上传中...":"确认上传"),9,dt),t("button",{type:"button",onClick:S,class:"flex-1 bg-gray-500 hover:bg-gray-600 text-white py-2 px-3 rounded-md font-medium text-sm"}," 取消 ")])])])])):p("",!0)]),_:1}))}});export{pt as default};
